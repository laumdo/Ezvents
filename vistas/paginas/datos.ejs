
    <div class="container">
        <h1>Mi Cuenta</h1>

        <% if (usuario) { %>
            <div class="user-info">
                <p>Usuario:</strong> <%= usuario.username %></p>
                <p>Nombre:</strong> <%= usuario.nombre %></p>
                <p>Apellidos:</strong> <%= usuario.apellidos %></p>
                <p>Email:</strong> <%= usuario.email %></p>
                <p>Puntos:</strong> <%= usuario.puntos %></p>
                <p>Rol:</strong> <%= usuario.rol %></p>
            </div>
            <div class="boton_entradas">
                <button onclick="window.location.href='/entradasUsuario/viewEntradas'">Ver mis entradas</button>
            </div>
            <div style="display: flex; justify-content: center; margin-top: 20px;">
                <form action="/usuarios/eliminarUsuario" method="POST">
                    <input type="hidden" name="propio" value="true">
                    <button type="submit" onclick="return confirm('¿Seguro que quieres eliminar tu cuenta? Esta acción no se puede deshacer.')">
                        Eliminar mi cuenta
                    </button>
                </form>
            </div>
        <% } else { %>
            <p class="no-user">Usuario no encontrado</p>
        <% } %>

        <% if (locals.descuentosUsuario && locals.descuentosUsuario.length > 0) { %>
            <div class="user-discounts">
                <h2>Mis Descuentos</h2>
                <div class="descuento-info">
                    <% locals.descuentosUsuario.forEach(descuento => { %>
                        <li>
                            <p class="descuento-id"><%= descuento.idDescuento %></p> |
                            <p class="descuento-codigo"><%= descuento.codigo %></p>
                        </li>
                    <% }) %>
                </div>
            </div>
        <% } else { %>
            <p>No tienes descuentos canjeados.</p>
        <% } %>
        
    </div>



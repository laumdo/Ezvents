<% if (session && session.esAdmin) { %>
    <h1>Bienvenido a la Consola de Administración</h1>
    <p>Tienes los permisos necesarios para administrar eventos.</p>
    <p>Aquí puedes gestionar los eventos. Selecciona una opción:</p>
<% } else { %>
    <h1>Acceso Denegado</h1>
    <p>No tienes permisos para administrar la web.</p>
<% } %>

<!-- Menú de opciones -->
<div class="admin-menu">
    <button onclick="mostrarFormulario('add')">Añadir Evento</button>
    <button onclick="mostrarFormulario('delete')">Eliminar Evento</button>
    <button onclick="mostrarFormulario('edit')">Modificar Evento</button>
    <button onclick ="mostrarFormulario('deleteuser')">Eliminar Usuario</button>
</div>

<!-- Contenedor de formularios -->
<div class="admin-forms">
    <!-- Formulario para añadir evento -->
    <div id="form-add" class="admin-form oculto">
        <h2>Añadir Evento</h2>
        <form action="/eventos/agregarEvento" method="POST">
            <label>Nombre:</label>
            <input type="text" name="nombre" required>
            
            <label>Descripción:</label>
            <textarea name="descripcion" required></textarea>
            
            <label>Fecha:</label>
            <input type="date" name="fecha" required>
            
            <label>Lugar:</label>
            <input type="text" name="lugar" required>
            
            <label>Precio:</label>
            <input type="number" step="0.01" name="precio" required>
            
            <label>Aforo Máximo:</label>
            <input type="number" name="aforo_maximo" required>

            <label>Imagen:</label>
            <input type="file" name="imagen" accept="image/*">

            <button type="submit">Añadir Evento</button>
        </form>
    </div>

    <!-- Formulario para eliminar evento -->
    <div id="form-delete" class="admin-form oculto">
        <h2>Eliminar Evento</h2>
        <form action="/eventos/eliminarEvento" method="POST">
            <label>ID del evento:</label>
            <input type="number" name="id" required>
            <button type="submit">Eliminar Evento</button>
        </form>
    </div>

    <!-- Formulario para modificar evento -->
    <div id="form-edit" class="admin-form oculto">
        <h2>Modificar Evento</h2>
        <form action="/eventos/modificarEvento" method="POST">
            <label>ID del evento:</label>
            <input type="number" name="id" required>

            <label>Nuevo Nombre:</label>
            <input type="text" name="nombre">
            
            <label>Nueva Descripción:</label>
            <textarea name="descripcion"></textarea>
            
            <label>Nueva Fecha:</label>
            <input type="date" name="fecha">
            
            <label>Nuevo Lugar:</label>
            <input type="text" name="lugar">
            
            <label>Nuevo Precio:</label>
            <input type="number" step="0.01" name="precio">
            
            <label>Nuevo Aforo Máximo:</label>
            <input type="number" name="aforo_maximo">

            <label>Nueva Imagen:</label>
            <input type="file" name="imagen" accept="image/*">

            <button type="submit">Modificar Evento</button>
        </form>
    </div>

    <!-- Formulario para eliminar usuario -->
<div id="form-deleteuser" class="admin-form oculto">
    <h2>Eliminar Usuario</h2>
    <form action="/usuarios/eliminarUsuario" method="POST">
        <label>Nombre del usuario:</label>
        <input type="text" name="nombre" required>
        <button type="submit">Eliminar Usuario</button>
    </form>
</div>

    <!-- Script para manejar el formulario -->
<script>
    function mostrarFormulario(id) {
        document.getElementById('form-' + id).classList.toggle('oculto');
    }
</script>

<style>
    .oculto { display: none; }
    .empresa-menu { margin-bottom: 20px; }
    .evento { border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; }
</style>

